{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.suits=t,this.values=r}var t,r,a;return t=e,(r=[{key:\"createDeck\",value:function(){for(var e=[],t=0;t<this.suits.length;t++)for(var r=0;r<this.values.length;r++)e.push(\"\".concat(this.values[r],\" of \").concat(this.suits[t]));return e}},{key:\"pickCard\",value:function(e){var t=Math.trunc(Math.random()*e.length),r=e[t];return this.removeCard(t,e),r}},{key:\"removeCard\",value:function(e,t){t.splice(e,1)}},{key:\"pushCard\",value:function(e,t){t.push(e)}}])&&n(t.prototype,r),a&&n(t,a),e}();function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,(r=[{key:\"oneHundred\",value:function(){return 100}}])&&o(t.prototype,r),n&&o(t,n),e}();function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,(r=[{key:\"convertCards\",value:function(e,t){var r=this;e.length<=1?e.forEach(function(e){var n=r.cardToInt(e);t.roundScores.push(n)}):e.length<1&&t.roundScores.push()}},{key:\"cardToInt\",value:function(e,t){switch(e.split(\" \")[0]){case\"Two\":return 2;case\"Three\":return 3;case\"Four\":return 4;case\"Five\":return 5;case\"Six\":return 6;case\"Seven\":return 7;case\"Eight\":return 8;case\"Nine\":return 9;case\"Ten\":default:return 10}}},{key:\"calcScore\",value:function(e,t){return e.reduce(function(e,t){return e+t})}}])&&l(t.prototype,r),n&&l(t,n),e}(),s={dealerCards:document.querySelector(\"#dealer-card-hand\"),dealerScore:document.querySelector(\"#dealer-total-score\"),dealerCash:document.querySelector(\"#dealer-total-cash\"),playerCards:document.querySelector(\"#player-card-hand\"),playerScore:document.querySelector(\"#player-total-score\"),playerCash:document.querySelector(\"#player-total-cash\"),newGameButton:document.querySelector(\"#new-game-button\"),hitButton:document.querySelector(\"#hit-button\"),stayButton:document.querySelector(\"#stay-button\"),outcome:document.querySelector(\"#round-outcome\")},i=function(e,t){var r=\"<span>\".concat(t,\"</span>\");t.length>2&&(r=\"<span>\".concat(t[t.length-1],\"</span>\"));var n=\"\".concat(e,\"Cards\");s[n].insertAdjacentHTML(\"beforeend\",r)},d=function(e,t){var r=\"\".concat(e,\"Cards\");s[r].textContent=\"\"},y=function(e,t){s.playerScore.textContent=e,s.dealerScore.textContent=t};!function(){var e,t,r={cards:null,score:null,cash:null,deck:[],activePlayer:\"player\",player:{cards:[],totalScore:0,roundScores:[],totalCash:[0]},dealer:{cards:[],totalScore:0,roundScores:[],totalCash:[0]},set togglePlayer(e){this.activePlayer=e}};e=[\"Two\",\"Three\",\"Four\",\"Five\",\"Six\",\"Seven\",\"Eight\",\"Nine\",\"Ten\",\"Jack\",\"Queen\",\"King\",\"Ace\"],t=[\"Hearts\",\"Diamonds\",\"Spades\",\"Clubs\"],r.cards=new a(t,e),r.score=new u,r.cash=new c;var n=function(){return r.activePlayer},o=function(){var e=n();r.togglePlayer=\"player\"==e?\"dealer\":\"player\"},l=function(e){var t=r.cards.pickCard(r.deck);r.cards.pushCard(t,e.cards),e.roundScores.push(r.score.cardToInt(t))},f=function(e){var t=r.score.calcScore(e.roundScores,e.totalScore);e.totalScore=t},p=function(e){var t,n,a,o,c,l=r.cash.oneHundred();e.push(l),t=r.player.totalCash,n=r.dealer.totalCash,a=s.playerCash,o=s.dealerCash,c=function(e){return e.reduce(function(e,t){return e+t})},a.textContent=\"$\".concat(c(t)),o.textContent=\"$\".concat(c(n))},v=function(){var e,t;if((e=r.player.totalScore)>(t=r.dealer.totalScore))console.log(\"player currently winning\"),e>21?(p(r.dealer.totalCash),S(\"player loses, over 21\")):21===e&&(p(r.player.totalCash),S(\"player wins\"));else if(t>e){if(console.log(\"dealer currently winning\"),t>21)return p(r.player.totalCash),void S(\"dealer loses over 21\");if(21===t)return p(r.dealer.totalCash),void S(\"dealer wins exactly 21\")}},h=function(){var e=n();l(r[e]),f(r[e]),i(e,r.player.cards),y(r.player.totalScore,r.dealer.totalScore),v(),console.log(r)},S=function(e){s.hitButton.style.display=\"none\",s.stayButton.style.display=\"none\",s.outcome.textContent=e,s.newGameButton.style.display=\"inline-block\"},g=function(){s.newGameButton.style.display=\"none\",s.hitButton.style.display=\"inline-block\",s.stayButton.style.display=\"inline-block\",r.deck=[],r.activePlayer=\"player\",r.player.cards=[],r.player.totalScore=0,r.player.roundScores=[],s.outcome.textContent=\"Currently playing a new round\",r.dealer.cards=[],r.dealer.totalScore=0,r.dealer.roundScores=[],console.log(\"------- REFRESHED STATE -------\"),console.log(r),d(\"player\",r.player.cards),d(\"dealer\",r.dealer.cards),r.deck=r.cards.createDeck(),l(r[n()]),l(r[n()]),f(r[n()]),i(n(),r.player.cards),o(),l(r[n()]),l(r[n()]),f(r[n()]),i(n(),r.dealer.cards),o(),y(r.player.totalScore,r.dealer.totalScore),console.log(r)};g(),s.hitButton.addEventListener(\"click\",function(){h(),v()}),s.stayButton.addEventListener(\"click\",function(){var e=n();i(e,r.player.cards),y(r.player.totalScore,r.dealer.totalScore),function(){if(r.dealer.totalScore<=17||r.dealer.totalScore<r.player.totalScore){console.log(\"dealer is less than 17\"),o();for(var e=0;e<r.deck.length&&(h(),!(r.dealer.totalScore>r.player.totalScore));e++);o()}}()}),s.newGameButton.addEventListener(\"click\",g)}()}]);","extractedComments":[]}