{"code":"!function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=0)}([function(e,r,t){\"use strict\";function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.r(r);var a=function(){function e(r,t){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.suits=r,this.values=t}var r,t,a;return r=e,(t=[{key:\"createDeck\",value:function(){for(var e=[],r=0;r<this.suits.length;r++)for(var t=0;t<this.values.length;t++)e.push(\"\".concat(this.values[t],\" of \").concat(this.suits[r]));return e}},{key:\"pickCard\",value:function(e){var r=Math.trunc(Math.random()*e.length),t=e[r];return this.removeCard(r,e),t}},{key:\"removeCard\",value:function(e,r){r.splice(e,1)}},{key:\"pushCard\",value:function(e,r){r.push(e)}}])&&n(r.prototype,t),a&&n(r,a),e}();function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var r,t,n;return r=e,(t=[{key:\"oneHundred\",value:function(){return 100}}])&&o(r.prototype,t),n&&o(r,n),e}();function l(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var r,t,n;return r=e,(t=[{key:\"convertCards\",value:function(e,r){var t=this;e.length<=1?e.forEach(function(e){var n=t.cardToInt(e);r.roundScores.push(n)}):e.length<1&&r.roundScores.push()}},{key:\"cardToInt\",value:function(e,r){switch(e.split(\" \")[0]){case\"Two\":return 2;case\"Three\":return 3;case\"Four\":return 4;case\"Five\":return 5;case\"Six\":return 6;case\"Seven\":return 7;case\"Eight\":return 8;case\"Nine\":return 9;case\"Ten\":default:return 10}}},{key:\"calcScore\",value:function(e,r){return e.reduce(function(e,r){return e+r})}}])&&l(r.prototype,t),n&&l(r,n),e}(),s={dealerCards:document.querySelector(\"#dealer-card-hand\"),dealerScore:document.querySelector(\"#dealer-total-score\"),dealerCash:document.querySelector(\"#dealer-total-cash\"),playerCards:document.querySelector(\"#player-card-hand\"),playerScore:document.querySelector(\"#player-total-score\"),playerCash:document.querySelector(\"#player-total-cash\"),playerPlayingCards:document.querySelector(\"#player-playing-cards\"),newGameButton:document.querySelector(\"#new-game-button\"),hitButton:document.querySelector(\"#hit-button\"),stayButton:document.querySelector(\"#stay-button\"),outcome:document.querySelector(\"#round-outcome\")},i=function(e,r){var t,n;n=\"\".concat(e,\"Cards\"),r.length>2?(t='<span class=\"card-string\">'.concat(r[r.length-1],\"</span>\"),s[n].insertAdjacentHTML(\"beforeend\",t)):r.length<=2&&r.forEach(function(e,a){t='<span class=\"card-string\">'.concat(r[a],\"</span>\"),s[n].insertAdjacentHTML(\"beforeend\",t)})},d=function(e,r){var t=\"\".concat(e,\"Cards\");s[t].textContent=\"\"},y=function(e,r){s.playerScore.innerHTML=\"<h2>\".concat(e,\"</h2>\"),s.dealerScore.innerHTML=\"<h2>\".concat(r,\"</h2>\")};!function(){var e,r,t={cards:null,score:null,cash:null,deck:[],activePlayer:\"player\",player:{cards:[],totalScore:0,roundScores:[],totalCash:[0]},dealer:{cards:[],totalScore:0,roundScores:[],totalCash:[0]},set togglePlayer(e){this.activePlayer=e}};e=[\"Two\",\"Three\",\"Four\",\"Five\",\"Six\",\"Seven\",\"Eight\",\"Nine\",\"Ten\",\"Jack\",\"Queen\",\"King\",\"Ace\"],r=[\"Hearts\",\"Diamonds\",\"Spades\",\"Clubs\"],t.cards=new a(r,e),t.score=new u,t.cash=new c;var n=function(){return t.activePlayer},o=function(){var e=n();t.togglePlayer=\"player\"==e?\"dealer\":\"player\"},l=function(e){var r=t.cards.pickCard(t.deck);t.cards.pushCard(r,e.cards),e.roundScores.push(t.score.cardToInt(r))},f=function(e){var r=t.score.calcScore(e.roundScores,e.totalScore);e.totalScore=r},p=function(e){var r,n,a,o,c,l=t.cash.oneHundred();e.push(l),r=t.player.totalCash,n=t.dealer.totalCash,a=s.playerCash,o=s.dealerCash,c=function(e){return e.reduce(function(e,r){return e+r})},a.textContent=\"$\".concat(c(r)),o.textContent=\"$\".concat(c(n))},h=function(){var e,r;if((e=t.player.totalScore)>(r=t.dealer.totalScore))console.log(\"player currently winning\"),e>21?(p(t.dealer.totalCash),S(\"player loses, over 21\")):21===e&&(p(t.player.totalCash),S(\"player wins\"));else if(r>e){if(console.log(\"dealer currently winning\"),r>21)return p(t.player.totalCash),void S(\"dealer loses over 21\");if(21===r)return p(t.dealer.totalCash),void S(\"dealer wins exactly 21\")}},v=function(){var e=n();l(t[e]),f(t[e]),i(e,t.player.cards),y(t.player.totalScore,t.dealer.totalScore),h(),console.log(t)},S=function(e){s.hitButton.style.display=\"none\",s.stayButton.style.display=\"none\",s.outcome.textContent=e,s.newGameButton.style.display=\"inline-block\"},g=function(){s.newGameButton.style.display=\"none\",s.hitButton.style.display=\"inline-block\",s.stayButton.style.display=\"inline-block\",t.deck=[],t.activePlayer=\"player\",t.player.cards=[],t.player.totalScore=0,t.player.roundScores=[],s.outcome.textContent=\"Currently playing a new round\",t.dealer.cards=[],t.dealer.totalScore=0,t.dealer.roundScores=[],console.log(\"------- REFRESHED STATE -------\"),console.log(t),d(\"player\",t.player.cards),d(\"dealer\",t.dealer.cards),t.deck=t.cards.createDeck(),l(t[n()]),l(t[n()]),f(t[n()]),i(n(),t.player.cards),t.player.cards,s.playerPlayingCards.insertAdjacentHTML(\"beforeend\",'<div class=\"card\"><img src=\"../../js.jpg\"></div>'),o(),l(t[n()]),l(t[n()]),f(t[n()]),i(n(),t.dealer.cards),o(),y(t.player.totalScore,t.dealer.totalScore),console.log(t)};g(),s.hitButton.addEventListener(\"click\",function(){v(),h()}),s.stayButton.addEventListener(\"click\",function(){var e=n();i(e,t.player.cards),y(t.player.totalScore,t.dealer.totalScore),function(){if(t.dealer.totalScore<=17||t.dealer.totalScore<t.player.totalScore){console.log(\"dealer is less than 17\"),o();for(var e=0;e<t.deck.length&&(v(),!(t.dealer.totalScore>t.player.totalScore));e++);o()}}()}),s.newGameButton.addEventListener(\"click\",g)}()}]);","extractedComments":[]}